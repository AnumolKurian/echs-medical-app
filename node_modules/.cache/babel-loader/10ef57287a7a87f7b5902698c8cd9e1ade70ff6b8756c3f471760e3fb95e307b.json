{"ast":null,"code":"const handleMarkAsPaid = async () => {\n  try {\n    const response = await fetch(`http://localhost/echs_app/updatebillstatus.php?echs_member_id=${echs_member_id}`, {\n      method: \"POST\"\n    });\n    if (!response.ok) {\n      throw new Error(\"Failed to update bill status\");\n    }\n    const result = await response.json();\n\n    // Check for the \"Status\" field in the response\n    if (result.Status === \"true\") {\n      alert(\"Cash credited to your account\");\n\n      // Optionally, update the local UI state to reflect changes\n      setMemberData(prevState => ({\n        ...prevState,\n        bills: prevState.bills.map(bill => ({\n          ...bill,\n          status: \"Paid\" // Update status locally\n        }))\n      }));\n    } else {\n      throw new Error(result.message || \"Unknown error occurred\");\n    }\n  } catch (err) {\n    console.error(\"Error updating bill status:\", err);\n    alert(\"Failed to mark the bill as paid. Please try again.\");\n  }\n};","map":{"version":3,"names":["handleMarkAsPaid","response","fetch","echs_member_id","method","ok","Error","result","json","Status","alert","setMemberData","prevState","bills","map","bill","status","message","err","console","error"],"sources":["D:/Echs medical app/src/page/admin/MedicalBillView.js"],"sourcesContent":["const handleMarkAsPaid = async () => {\r\n  try {\r\n    const response = await fetch(\r\n      `http://localhost/echs_app/updatebillstatus.php?echs_member_id=${echs_member_id}`,\r\n      {\r\n        method: \"POST\",\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to update bill status\");\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    // Check for the \"Status\" field in the response\r\n    if (result.Status === \"true\") {\r\n      alert(\"Cash credited to your account\");\r\n\r\n      // Optionally, update the local UI state to reflect changes\r\n      setMemberData((prevState) => ({\r\n        ...prevState,\r\n        bills: prevState.bills.map((bill) => ({\r\n          ...bill,\r\n          status: \"Paid\", // Update status locally\r\n        })),\r\n      }));\r\n    } else {\r\n      throw new Error(result.message || \"Unknown error occurred\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error updating bill status:\", err);\r\n    alert(\"Failed to mark the bill as paid. Please try again.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACnC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,iEAAiEC,cAAc,EAAE,EACjF;MACEC,MAAM,EAAE;IACV,CACF,CAAC;IAED,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;IACjD;IAEA,MAAMC,MAAM,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;;IAEpC;IACA,IAAID,MAAM,CAACE,MAAM,KAAK,MAAM,EAAE;MAC5BC,KAAK,CAAC,+BAA+B,CAAC;;MAEtC;MACAC,aAAa,CAAEC,SAAS,KAAM;QAC5B,GAAGA,SAAS;QACZC,KAAK,EAAED,SAAS,CAACC,KAAK,CAACC,GAAG,CAAEC,IAAI,KAAM;UACpC,GAAGA,IAAI;UACPC,MAAM,EAAE,MAAM,CAAE;QAClB,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC;IACL,CAAC,MAAM;MACL,MAAM,IAAIV,KAAK,CAACC,MAAM,CAACU,OAAO,IAAI,wBAAwB,CAAC;IAC7D;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC;IACjDR,KAAK,CAAC,oDAAoD,CAAC;EAC7D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}