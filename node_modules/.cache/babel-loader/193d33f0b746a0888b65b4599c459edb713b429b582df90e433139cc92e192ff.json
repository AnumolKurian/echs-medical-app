{"ast":null,"code":"var _jsxFileName = \"D:\\\\react prjt\\\\Echs medical app\\\\src\\\\page\\\\CmpLogin.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import './CmpLogin.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CmpLogin() {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const checklogin = e => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"username\", formData.username);\n    data.append(\"password\", formData.password);\n    fetch('http://localhost/echs_app/check_login.php', {\n      method: \"POST\",\n      body: data\n    }).then(result => result.json()).then(data => {\n      if (data.Status === \"true\") {\n        if (data.Role === \"admin\") {\n          alert(\"Successfully logged in to admin panel!\");\n          navigate(`/admin?username=${formData.username}`); // Fix: Use quotes for path\n        } else {\n          alert(\"Successfully logged in!\");\n          navigate('/user'); // Fix: Use quotes for path\n        }\n      } else {\n        alert(data.Message);\n      }\n    }).catch(error => {\n      console.error(\"Error during login:\", error);\n      alert(\"An error occurred. Please try again later.\");\n    });\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\",\n      rel: \"stylesheet\",\n      integrity: \"sha384-5Ql58MgsaY1Z6wl+F21OwyOtvGhmf4/H/TLO1pE7ME89czDi8UYAYsG0NPFq7TfF\",\n      crossOrigin: \"anonymous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow-lg p-4\",\n        style: {\n          width: \"400px\",\n          marginTop: \"130px\",\n          padding: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: checklogin,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center mb-4\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"username\",\n              className: \"form-control\",\n              value: formData.username,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              className: \"form-control\",\n              value: formData.password,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-grid\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary btn-block\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(CmpLogin, \"sFa42KL9r8ye5V8vxw601CBiAoQ=\", false, function () {\n  return [useNavigate];\n});\n_c = CmpLogin;\nexport default CmpLogin;\nvar _c;\n$RefreshReg$(_c, \"CmpLogin\");","map":{"version":3,"names":["useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","CmpLogin","_s","formData","setFormData","username","password","navigate","checklogin","e","preventDefault","data","FormData","append","fetch","method","body","then","result","json","Status","Role","alert","Message","catch","error","console","handleChange","name","value","target","children","href","rel","integrity","crossOrigin","fileName","_jsxFileName","lineNumber","columnNumber","className","style","width","marginTop","padding","onSubmit","type","onChange","required","_c","$RefreshReg$"],"sources":["D:/react prjt/Echs medical app/src/page/CmpLogin.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\n// import './CmpLogin.css';\r\n\r\nfunction CmpLogin() {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n\r\n    const navigate = useNavigate(); \r\n\r\n    const checklogin = (e) => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append(\"username\", formData.username);\r\n        data.append(\"password\", formData.password);\r\n\r\n        fetch('http://localhost/echs_app/check_login.php', {\r\n            method: \"POST\",\r\n            body: data,\r\n        })\r\n        .then((result) => result.json())\r\n        .then((data) => {\r\n            if (data.Status === \"true\") {\r\n                if (data.Role === \"admin\") {\r\n                    alert(\"Successfully logged in to admin panel!\");\r\n                    navigate(`/admin?username=${formData.username}`); // Fix: Use quotes for path\r\n                } else {\r\n                    alert(\"Successfully logged in!\");\r\n                    navigate('/user'); // Fix: Use quotes for path\r\n                }\r\n            } else {\r\n                alert(data.Message);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error during login:\", error);\r\n            alert(\"An error occurred. Please try again later.\");\r\n        });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <link \r\n                href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" \r\n                rel=\"stylesheet\" \r\n                integrity=\"sha384-5Ql58MgsaY1Z6wl+F21OwyOtvGhmf4/H/TLO1pE7ME89czDi8UYAYsG0NPFq7TfF\" \r\n                crossOrigin=\"anonymous\" \r\n            />\r\n            \r\n            <div>\r\n                <div className=\"card shadow-lg p-4\" style={{ width: \"400px\", marginTop: \"130px\", padding: \"20px\" }}>\r\n                    <form onSubmit={checklogin}>\r\n                        <h2 className=\"text-center mb-4\">Login</h2>\r\n                        <div className=\"mb-3\">\r\n                            <label className=\"form-label\">Username</label>\r\n                            <input \r\n                                type=\"text\" \r\n                                name=\"username\" \r\n                                className=\"form-control\" \r\n                                value={formData.username} \r\n                                onChange={handleChange} \r\n                                required \r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label className=\"form-label\">Password</label>\r\n                            <input \r\n                                type=\"password\" \r\n                                name=\"password\" \r\n                                className=\"form-control\" \r\n                                value={formData.password} \r\n                                onChange={handleChange} \r\n                                required \r\n                            />\r\n                        </div>\r\n                        <div className=\"d-grid\">\r\n                            <button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n                                Login\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CmpLogin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}